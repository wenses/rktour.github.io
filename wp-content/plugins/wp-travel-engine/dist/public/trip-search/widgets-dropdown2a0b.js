(()=>{"use strict";class t{static selectorStore=new Map;static staticStore=new Map;static methods={};constructor(e){if(t.selectorStore.has(e))return t.selectorStore.get(e);this.elements=[...new Set(t.getElements(e))],this.store=new Map,t.selectorStore.set(e,this)}static getElements(t){let e=[];return e="string"==typeof t?[...document.querySelectorAll(t)]:Array.isArray(t)?t.flatMap((t=>[...document.querySelectorAll(t)])):[t],0===e.length?[]:e}getElements(){return this.elements}get element(){return this.elements[0]||null}#t(t){this.getElements().forEach(t)}#e(t){return this.getElements().flatMap(t)}each(t){return this.#t(t),this}refresh(){const e=[...t.selectorStore.entries()].find((([,t])=>t===this))?.[0];if(!e)return this;t.selectorStore.delete(e);let s=[];return"string"==typeof e?s=[...document.querySelectorAll(e)]:Array.isArray(e)?s=e.flatMap((t=>[...document.querySelectorAll(t)])):e instanceof Element&&(s=[e]),this.elements=[...new Set(s)],t.selectorStore.set(e,this),this}static decodeText(t){return(new DOMParser).parseFromString(t,"text/html").body.textContent}static ready(t){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}static ajax({url:t,method:e="GET",data:s={},headers:r={},success:i=()=>{},error:n=()=>{},complete:o=()=>{},beforeSend:a=()=>{},timeout:l=0,dataType:c="json",cache:h=!0,crossDomain:d=!1,withCredentials:p=!1}){a();const u={method:e,headers:{"Content-Type":"application/x-www-form-urlencoded",...r},body:"GET"===e.toUpperCase()?null:new URLSearchParams(s),timeout:l,credentials:p?"include":"same-origin"};h||(u.headers["Cache-Control"]="no-cache",u.headers.Pragma="no-cache"),d&&(u.headers["Access-Control-Allow-Origin"]="*"),["GET","DELETE"].includes(e.toUpperCase())&&(t+=`?${new URLSearchParams(s).toString()}`,u.body=null),fetch(t,u).then((t=>{if(!t.ok)throw new Error(`HTTP error! ${t.status}`);return t.json()})).then((t=>(i(t),{success:!0,data:t,error:null}))).catch((t=>(n(t),{success:!1,data:null,error:t}))).then(o)}static hide(e,s=e.parentElement,r=e.nextSibling){e&&e instanceof Element&&!t.staticStore.has(e)&&s&&(t.staticStore.set(e,{parent:s,next:r}),e.remove())}static show(e,s="insertBefore"){if(!t.staticStore.has(e))return;const{parent:r,nextSibling:i}=t.staticStore.get(e);if(r){switch(s){case"insertBefore":r.insertBefore(e,i);break;case"appendChild":r.appendChild(e);break;case"prepend":r.prepend(e);break;default:throw new Error(`Unsupported DOM insert method: ${s}`)}t.staticStore.delete(e)}}static registerMethod(t,e){this.methods[t]=e.bind(this),this.prototype[t]=function(...t){return e.apply(this,t)}}use(t,...e){if("function"==typeof this[t])return this[t](...e);if(this.methods[t])return this.methods[t](...e);throw new Error(`Method "${t}" is not defined.`)}isFound(){return this.elements.length>0}find(e){const s=this.#e((t=>[...t.querySelectorAll(e)]));return new t([...new Set(s)])}iterateMatches(e,s){return this.#t((r=>{r.querySelectorAll(e).forEach((e=>{e=new t(e),s(e,r)}))})),this}call(t,e){const s=[];return this.#t((r=>{const i=r?.[t];"function"==typeof i?s.push(i.call(r,e?.(r))):"function"==typeof t&&s.push(t.call(r,r))})),s.length?s:this}parent(){return this.elements[0].parentElement}closest(t){return this.elements[0].closest(t)}siblings(){const e=this.parent();return new t(e?[...e.children].filter((t=>!this.elements.includes(t))):[])}css(t,e){if("object"==typeof t)this.#t((e=>{for(let s in t){const[r,i]=t[s].split(" !");e.style.setProperty(s,r,"important"===i?"important":"")}}));else{const[s,r]=e.split(" !");this.#t((e=>e.style.setProperty(t,s,"important"===r?"important":"")))}return this}hasClass(t){return this.call("some",(e=>e.classList.contains(t)))}addClass(t){const e=Array.isArray(t)?t:t.split(/\s+/);return this.#t((t=>t.classList.add(...e))),this}removeClass(t){const e=Array.isArray(t)?t:t.split(/\s+/);return this.#t((t=>t.classList.remove(...e))),this}hide(){return this.#t((t=>{this.store.has(t)||(this.store.set(t,{parent:t.parentNode,nextSibling:t.nextSibling}),t.remove())})),this}show(){return this.store.forEach((({parent:t,nextSibling:e},s)=>{t&&(t.insertBefore(s,e),this.store.delete(s))})),this}dispatch(t,e={},s={}){return this.#t((r=>{let i;if("string"==typeof t)i=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0,...s});else{if(!(t instanceof Event))throw new Error("Invalid event type for dispatch");i=t}r.dispatchEvent(i)})),this}on(t,e,s={}){const r=Array.isArray(t)?t:t.split(/\s*,\s*/);return this.#t((t=>{r.forEach((r=>t.addEventListener(r,e,s)))})),this}prepend(t){return this.#t((e=>e.innerHTML=t+e.innerHTML)),this}append(t){return this.#t((e=>e.innerHTML+=t)),this}html(t){return void 0===t?this.elements[0]?.innerHTML:(this.#t((e=>e.innerHTML=t)),this)}text(t){return void 0===t?this.elements[0]?.textContent:(this.#t((e=>e.textContent=t)),this)}attr(t,e){return t?.startsWith("data-")?this.data(t.slice(5),e):void 0===e?this.elements[0]?.getAttribute(t):(this.#t((s=>s.setAttribute(t,e))),this)}removeAttr(t){return this.#t((e=>e.removeAttribute(t))),this}val(t){return void 0===t?this.elements[0]?.value:(this.#t((e=>e.value=t)),this)}data(t,e){return void 0===e?this.elements[0]?.dataset?.[t]:(this.#t((s=>s.dataset[t]=e)),this)}removeData(t){return this.#t((e=>delete e.dataset[t])),this}fadeIn(t=300,e="block"){return this.#t((s=>{s.style.opacity=0,s.style.display=e,s.style.transition=`opacity ${t}ms ease`,requestAnimationFrame((()=>s.style.opacity=1))})),this}fadeOut(t=300){return this.#t((e=>{e.style.transition=`opacity ${t}ms ease`,e.style.opacity=1,requestAnimationFrame((()=>e.style.opacity=0)),setTimeout((()=>e.style.display="none"),t)})),this}slideDown(t=300){return this.#t((e=>{parseFloat(getComputedStyle(e).height)>0||(e.classList.add("toggle-active"),e.style.height=`${e.scrollHeight}px`,this.timeOut=setTimeout((()=>{e.style.overflow="visible"}),t))})),this}slideUp(t=300){return clearTimeout(this.timeOut),this.#t((t=>{t.classList.remove("toggle-active"),t.style.overflow="hidden",t.style.height="0px"})),this}slideToggle(t=300,e){return this.#t((s=>{parseFloat(getComputedStyle(s).height)>0?(this.slideUp(t),e?.(!1)):(this.slideDown(t),e?.(!0))})),this}stop(){return this.#t((t=>{t?._mySlider?.animationFrame&&cancelAnimationFrame(t._mySlider.animationFrame).height.forEach((e=>t.style.removeProperty(e)))})),this}}function e(e){const s=t.getElements(e);return new t(e,s||[])}const s=new Proxy(e,{get(e,s){if(s in t&&"function"==typeof t[s])return(...e)=>t[s](...e)},apply:(t,s,r)=>e(...r)});!function(){const t=document.querySelector(".wpte-trip-sfilter-wrapper .wpte-trip__search-fields");document.addEventListener("click",(e=>{t&&!t.contains(e.target)&&t.querySelector(".options-open")?.classList.remove("options-open")})),s(".wpte-trip-sfilter-wrapper .wpte__select-field").each((t=>{const e=t.querySelector(".wpte__input");e.readOnly=!0,e.autocomplete="off"})).on("click",(t=>{const e=t.target.closest(".wpte__select-field");e.classList.contains("options-open")?e.classList.remove("options-open"):(s(".wpte__select-field").removeClass("options-open"),e.classList.add("options-open"))})).iterateMatches(".wpte__select-options",((t,e)=>{t.on("click",(e=>{t.iterateMatches("li",(t=>t.removeClass("selected")));const s=e.target.closest("[data-value]"),{value:r=null,label:i=null}=s?.dataset||{};if(r&&i){const e=t.closest(".wpte__select-field");e.querySelector(".wpte__input").value=i,e.querySelector(".wpte__input-value").value=r,s.classList.add("selected")}}))}))}()})();