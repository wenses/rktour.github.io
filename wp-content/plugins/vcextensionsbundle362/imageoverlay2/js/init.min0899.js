jQuery(document).ready(function(t){"use strict";function i(t){var i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(i,function(t,i,a,e){return i+i+a+a+e+e});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}t(".cq-imageoverlay2-container").each(function(a){var e,s=t(this),e=t(this).data("overlaycolor"),r=(t(this).data("overlaysize"),t(this).data("overlayshape"),t(this).data("overlaymargin"),parseInt(t(this).data("elementheight"))),h=t(this).data("titlesize"),o=t(this).data("contentsize"),n=t(this).data("contentcolor"),c=t(this).data("elementmargin"),h=t(this).data("titlesize"),o=t(this).data("contentsize"),d=(t(this).data("image"),t(this).data("overlaystyle"));"customized"!=d?(e=i(t(this).data("overlaycolor")),e&&(e="rgba("+e.r+", "+e.g+", "+e.b+", 0.7)")):e=t(this).data("overlaycolor");var g=t(this).find(".cq-imageoverlay2-background"),l=Math.max(t(this).width(),t(this).height());""!=n&&t(this).find(".cq-imageoverlay2-title, cq-imageoverlay2-icon, .cq-imageoverlay2-content").css("color",n),""!=r&&t(this).css({height:r}),""!=h&&t(this).find(".cq-imageoverlay2-title, cq-imageoverlay2-icon").css({"font-size":h}),""!=o&&t(this).find(".cq-imageoverlay2-content").css({"font-size":o});var m,v;m=t(this).width(),v=t(this).height();t(".cq-imageoverlay2-img",s);t(this).find(".cq-imageoverlay2").css({height:s.height()});var y=t(".cq-imageoverlay2-img",s)[0];t("<img/>").attr("src",t(y).attr("src")).load(function(){t(window).trigger("resize")}),t(this).find(".cq-imageoverlay2-background").css({"background-color":e}),g.css({width:4*l,height:4*l});var f;t(window).on("resize",function(t){l=Math.max(s.width(),s.height()),g.css({width:4*l,height:4*l}),f=s.find("img").height(),f>0&&s.css("max-height",f)}),""!=c&&t(this).css("margin",c)})});